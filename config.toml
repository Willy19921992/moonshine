name = "Moonshine"
address = "0.0.0.0"

[webserver]
port = 47989
port_https = 47984
certificate = "./cert/cert.pem"
private_key = "./cert/key.pem"

[stream]
port = 48010

[stream.video]
port = 47998
codec_h264 = "h264_nvenc"
codec_hevc = "hevc_nvenc"
fec_percentage = 20

[stream.audio]
port = 48000

[stream.control]
port = 47999

[[application]]
title = "Desktop"
run_before = [
	["$HOME/.local/bin/resolution", "{width}", "{height}"],
]
run_after = [["$HOME/.local/bin/resolution"]]

[[application]]
title = "Steam"
run_before = [
	["$HOME/.local/bin/resolution", "{width}", "{height}"],
	["/usr/bin/steam", "steam://open/bigpicture"],
]
run_after = [["$HOME/.local/bin/resolution"]]

[[application_scanner]]
type = "steam"
library = "$HOME/.local/share/Steam"
run_before = [
	["$HOME/.local/bin/resolution", "{width}", "{height}"],
	["/usr/bin/steam", "steam://open/bigpicture"],
	["/usr/bin/steam", "steam://rungameid/{game_id}"],
]
run_after = [
	["$HOME/.local/bin/resolution"],
]
